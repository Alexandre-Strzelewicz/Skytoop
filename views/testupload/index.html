{{response.files.append(URL('static','multifile-upload/fileuploader.css'))}}
{{response.files.append(URL('static','multifile-upload/fileuploader.js'))}}

{{extend 'layout.html'}}

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript">
  function createUploader(){            
     var uploader = new qq.FileUploader({
  element: document.getElementById('file-upload'),
  action: '{{=URL("upload")}}',	
  sizeLimit: 15000000,		
  minSizeLimit: 0,
  debug: true,
        onSubmit: function(id, fileName){},
        onProgress: function(id, fileName, loaded, total){},
        onComplete: function(id, fileName, responseJSON){},
        onCancel: function(id, fileName){},
        messages: {
            typeError: "{file} {{=T('has invalid extension.')}} {{=T('Only')}} {extensions} {{=T('are allowed.')}}",
            sizeError: "{file} {{=T('is too large, maximum file size is')}} {sizeLimit}.",
            minSizeError: "{file} {{=T('is too small, minimum file size is')}} {minSizeLimit}.",
            emptyError: "{file} {{=T('is empty, please select files again without it.')}}",
            onLeave: "{{=T('The files are being uploaded, if you leave now the upload will be cancelled.')}}"                         
        },
        showMessage: function(message){ alert(message); }        
     });           
  }
  window.onload = createUploader;     
</script>

<center>
<br/>

<input type="hidden" name="path" id="path" value="path">

<div id="file-upload">
  <noscript>
    <p>Please enable JavaScript to use file uploader.</p>
  </noscript>
  
</div>
<br/>
<!--<img width="526px" height="324px" src="../static/images/all-to-one.png"></img>-->
</center>
